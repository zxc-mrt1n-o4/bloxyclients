<!-- v2.00.013 - MODERN SCRIPTS: TAILWIND + MOTION ESM -->
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- v2.00.013 - TAILWIND CDN (MINIFIED, NO WARNING) -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloxd Client UI</title>
    <link href="https://cdn.tailwindcss.com" rel="stylesheet">
    <script>
        tailwind.config = { theme: { extend: { colors: { 'bloxd': '#ff6b35' } } } }
    </script>
    <!-- v2.00.013 - MOTION ESM BASE -->
    <base href="https://cdn.jsdelivr.net/npm/">
</head>
<body class="bg-transparent">
    <!-- v2.00.013 - TOAST CONTAINER -->
    <div id="toast-container" class="fixed bottom-6 right-6 space-y-2 z-[99999] pointer-events-none">
    </div>

    <!-- v2.00.013 - MOTION ESM SCRIPT (DEFERRED LOAD) -->
    <script type="module" defer>
        import { motion } from "framer-motion@11/+esm";  // ESM import (bypasses MIME via +esm)
        
        // v2.00.013 - MOTION TOAST COMPONENT
        async function showToast(message, lifetime = 5000, showProgress = true) {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'bg-black/95 backdrop-blur-lg border border-blue-500/30 rounded-xl p-4 min-w-[240px] shadow-2xl text-white text-sm font-mono relative overflow-hidden flex flex-col';
            
            toast.innerHTML = `<div class="flex items-center justify-center mb-auto">${message}</div>`;
            container.appendChild(toast);

            // v2.00.013 - SLIDE IN
            await motion(toast, {
                x: [100, 0],
                opacity: [0, 1],
                transition: { duration: 0.3, ease: "easeOut" }
            });

            // v2.00.013 - BOTTOM PROGRESS LINE (TOGGLEABLE)
            if (showProgress) {
                const progress = document.createElement('div');
                progress.className = 'absolute bottom-0 left-0 h-1 bg-blue-500 rounded-b-xl z-0 w-0';
                toast.appendChild(progress);
                
                await motion(progress, {
                    width: ['0%', '100%'],
                    transition: { duration: lifetime / 1000, ease: "linear" }
                });
            }

            // v2.00.013 - DELAYED FADE OUT (0.5s after progress)
            setTimeout(() => {
                motion(toast, {
                    x: [0, 100],
                    opacity: [1, 0],
                    transition: { duration: 0.3, ease: "easeIn" }
                });
                setTimeout(() => toast.remove(), 300);
            }, lifetime + 500);
        }

        // v2.00.013 - MESSAGE LISTENER
        window.addEventListener('message', (e) => {
            if (e.data.type === 'toast') {
                showToast(e.data.message, e.data.lifetime || 3000, e.data.showProgress !== false);
            }
        });
    </script>
</body>
</html>
